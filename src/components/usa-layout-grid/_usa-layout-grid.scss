@use "sass:map";
@use "../../stylesheets/packages/uswds-core";

/* stylelint-disable */

$namespace-grid: uswds-core.ns("grid");

// basic container
.#{$namespace-grid}container {
  $props: uswds-core.append-important(uswds-core.$grid-global, $theme-grid-container-max-width);
  @include uswds-core.grid-container($props);
}

// container with custom widths
@each $width-key, $width-value in uswds-core.$system-breakpoints {
  .#{$namespace-grid}container-#{$width-key} {
    $props: uswds-core.append-important(uswds-core.$grid-global, $width-key);
    @include uswds-core.grid-container($props);
  }
}

// responsive containers...
@each $mq-key, $mq-value in uswds-core.$system-breakpoints {
  @if map.get($theme-utility-breakpoints, $mq-key) {
    @include uswds-core.at-media($mq-key) {
      .#{$mq-key}#{uswds-core.$separator}#{$namespace-grid}container {
        $props: uswds-core.append-important(uswds-core.$grid-global, desktop);
        @include uswds-core.grid-container($props);
      }

      // ...with custom widths
      @each $width-key, $width-value in uswds-core.$system-breakpoints {
        .#{$mq-key}#{uswds-core.$separator}#{$namespace-grid}container-#{$width-key} {
          $props: uswds-core.append-important(uswds-core.$grid-global, $width-key);
          @include uswds-core.grid-container($props);
        }
      }
    }
  }
}

// basic row...
.#{$namespace-grid}row {
  @include uswds-core.grid-row;

  // ...that includes column gaps
  &.#{$namespace-grid}gap {
    @include uswds-core.grid-gap-responsive;
  }
  @each $gap-key, $gap-val in uswds-core.map-deep-get($system-properties, gap, standard) {
    &.#{$namespace-grid}gap-#{$gap-key} {
      $props: uswds-core.append-important(uswds-core.$grid-global, $gap-key);
      @include uswds-core.grid-gap($props);
    }
  }

  // responsive column gaps
  @each $mq-key, $mq-value in uswds-core.$system-breakpoints {
    @if map.get($theme-utility-breakpoints, $mq-key) {
      @include uswds-core.at-media($mq-key) {
        @each $gap-key,
          $gap-val in uswds-core.map-deep-get($system-properties, gap, standard)
        {
          &.#{$mq-key}#{uswds-core.$separator}#{$namespace-grid}gap-#{$gap-key} {
            $props: uswds-core.append-important(uswds-core.$grid-global, $gap-key);
            @include uswds-core.grid-gap($props);
          }
        }
      }
    }
  }
}

// basic columns...
[class*="#{$namespace-grid}col"] {
  @include uswds-core.u-position(relative);
  @include uswds-core.u-width(full);
  box-sizing: border-box;
}

.#{$namespace-grid}col {
  $props: uswds-core.append-important(uswds-core.$grid-global, fill);
  @include uswds-core.grid-col($props);
}

.#{$namespace-grid}col-auto {
  $props: uswds-core.append-important(uswds-core.$grid-global, auto);
  @include uswds-core.grid-col($props);
}

.#{$namespace-grid}col-fill {
  $props: uswds-core.append-important(uswds-core.$grid-global, fill);
  @include uswds-core.grid-col($props);
}

// ...with widths
@each $width-key, $width-value in uswds-core.$system-layout-grid-widths {
  .#{$namespace-grid}col-#{$width-key} {
    $props: uswds-core.append-important(uswds-core.$grid-global, $width-key);
    @include uswds-core.grid-col($props);
  }
}

// responsive columns
@each $mq-key, $mq-value in uswds-core.$system-breakpoints {
  @if map.get($theme-utility-breakpoints, $mq-key) {
    @include uswds-core.at-media($mq-key) {
      .#{$mq-key}#{uswds-core.$separator}#{$namespace-grid}col {
        $props: uswds-core.append-important(uswds-core.$grid-global, fill);
        @include uswds-core.grid-col($props);
      }
      .#{$mq-key}#{uswds-core.$separator}#{$namespace-grid}col-fill {
        $props: uswds-core.append-important(uswds-core.$grid-global, fill);
        @include uswds-core.grid-col($props);
      }
      .#{$mq-key}#{uswds-core.$separator}#{$namespace-grid}col-auto {
        $props: uswds-core.append-important(uswds-core.$grid-global, auto);
        @include uswds-core.grid-col($props);
      }

      @each $width-key, $width-value in uswds-core.$system-layout-grid-widths {
        .#{$mq-key}#{uswds-core.$separator}#{$namespace-grid}col-#{$width-key} {
          $props: uswds-core.append-important(uswds-core.$grid-global, $width-key);
          @include uswds-core.grid-col($props);
        }
      }
    }
  }
}

// basic offsets
@each $width-key, $width-value in uswds-core.$system-layout-grid-widths {
  .#{$namespace-grid}offset-#{$width-key} {
    $props: uswds-core.append-important(uswds-core.$grid-global, $width-key);
    @include uswds-core.grid-offset($props);
  }
}
.#{$namespace-grid}offset-none {
  $props: uswds-core.append-important(uswds-core.$grid-global, none);
  @include uswds-core.grid-offset($props);
}

// responsive offsets
@each $mq-key, $mq-value in uswds-core.$system-breakpoints {
  @if map.get($theme-utility-breakpoints, $mq-key) {
    @each $width-key, $width-value in uswds-core.$system-layout-grid-widths {
      @include uswds-core.at-media($mq-key) {
        .#{$mq-key}#{uswds-core.$separator}#{$namespace-grid}offset-#{$width-key} {
          $props: uswds-core.append-important(uswds-core.$grid-global, $width-key);
          @include uswds-core.grid-offset($props);
        }
      }
    }
    @include uswds-core.at-media($mq-key) {
      .#{$mq-key}#{uswds-core.$separator}#{$namespace-grid}offset-none {
        $props: uswds-core.append-important(uswds-core.$grid-global, none);
        @include uswds-core.grid-offset($props);
      }
    }
  }
}
/* stylelint-enable */
